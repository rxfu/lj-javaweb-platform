<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="User">
	<typeAlias alias="UserBean" type="com.pl.web.sys.user.UserBean" />
	<resultMap id="user_Result" class="UserBean">
		<result column="ID" property="id" jdbcType="VARCHAR" />
		<result column="NAME" property="name" jdbcType="VARCHAR" />
		<result column="PASSWORD" property="password" jdbcType="CHAR" />
	</resultMap>
	<select id="selectPager" parameterClass="UserBean" resultMap="user_Result">
		select ID, NAME, PASSWORD
		from user
		<dynamic prepend="where">
			<isNotEmpty prepend="and" property="name">
				NAME like concat('%',#name:VARCHAR#,'%')
      		</isNotEmpty>
		</dynamic>
	</select>
	<select id="selectPagerCount" parameterClass="UserBean"
		resultClass="Integer">
		select count(1)
		from user
		<dynamic prepend="where">
			<isNotEmpty prepend="and" property="name">
				NAME like concat('%',#name:VARCHAR#,'%')
      		</isNotEmpty>
		</dynamic>
	</select>
	<insert id="insert" parameterClass="UserBean">
		insert into USER (ID, NAME, PASSWORD)
		values (#id:VARCHAR#, #name:VARCHAR#, #password:VARCHAR#)
  	</insert>
</sqlMap>